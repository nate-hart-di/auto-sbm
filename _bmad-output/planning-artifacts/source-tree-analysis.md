# Source Tree Analysis: auto-sbm

## High-Level Overview

The `auto-sbm` project follows a standard Python package structure with a focus on CLI accessibility and modular SCSS processing.

## Directory Structure

### `sbm/` (Core Application)

- `cli.py`: The primary entry point for the tool, built using the `click` library. Orchestrates the various commands and sub-commands.
- `core/`: Contains the fundamental migration logic, Git integration, and filesystem operations.
  - `migration.py`: Main migration orchestrator.
  - `git.py`: Wrapper for `gitpython` to handle branch creation and commits.
  - `validation.py`: Logic for verifying migration integrity.
- `scss/`: The core transformation engine for SCSS files.
  - `processor.py`: Handles variable mapping and selector migration.
  - `mixin_parser.py`: Parses and adapts SCSS mixins for Site Builder.
- `oem/`: Manufacturer-specific migration logic. Contains specialized sub-modules for `kia`, `stellantis`, etc.
- `ui/`: Terminal User Interface components built with the `rich` library. Handles progress bars, panels, and interactive prompts.
- `utils/`: Reusable helper functions for paths, logging, and performance monitoring.

### `tests/` (Quality Assurance)

- Comprehensive test suite covering units, integration, and CLI behavior.
- Notable files: `test_type_safety_compliance.py`, `test_core_git.py`, `test_core_scss.py`.

### `scripts/` (Maintenance & Tools)

- `stats/`: Contains Python scripts for analyzing team performance and backfilling historical migration data.

### `stats/` (Data Store)

- JSON files containing performance metrics for various developers and historical migration data.

### `logs/` (Operations)

- Timestamped log files from migration runs.

### `htmlcov/` (Developer Insight)

- Local HTML coverage reports generated by `pytest-cov`.

## Key Files

- `pyproject.toml`: Modern Python build configuration, dependency management, and tool settings (Ruff, MyPy, Pytest).
- `requirements.txt`: Compatibility-focused dependency list.
- `README.md`: High-level user documentation.
- `CLAUDE.md`: Implementation guide and project-specific rules.

## Analysis Notes

- **Modular Design**: The separation of `scss/`, `oem/`, and `core/` suggests a highly extensible architecture where new CSS rules or manufacturer requirements can be added without affecting the core CLI.
- **TUI Focus**: Significant investment in `ui/` indicates a priority on developer experience and visual feedback during long-running migrations.
- **Data-Driven**: The `stats/` directory combined with `scripts/stats/` points to a focus on tracking the impact and efficiency of the tool across the team.
